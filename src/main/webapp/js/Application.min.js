var app=angular.module("App",["ui.bootstrap","ngRoute"]);app.config(["$routeProvider","$controllerProvider",function(e,o){app.registerCtrl=o.register,e.when("/",{controller:"DashboardController",templateUrl:"inicio.html"}).when("/teams",{controller:"TeamController",templateUrl:"pages/teams/teams.html"}).when("/team/create",{controller:"TeamCreateController",templateUrl:"pages/teams/team-create.html"}).when("/team/:id",{controller:"TeamProfileController",templateUrl:"pages/teams/team-profile.html"}).when("/team/edit/:id",{controller:"TeamEditController",templateUrl:"pages/teams/team-edit.html"}).when("/team/edit/:id/photo",{controller:"TeamEditController",templateUrl:"pages/teams/team-edit-photo.html"}).when("/team/:id/players/add",{controller:"PlayerCreateController",templateUrl:"pages/teams/team-add-player.html"}).when("/team/:id/players/:idPlayer/edit",{controller:"PlayerEditController",templateUrl:"pages/teams/team-edit-player.html"}).when("/player/:id",{controller:"PlayerProfileController",templateUrl:"pages/players/player-profile.html"}).when("/players",{controller:"PlayerController",templateUrl:"pages/players/players.html"}).when("/players/create",{controller:"PlayerCreateController",templateUrl:"pages/teams/team-add-player.html"}).when("/court/:id",{controller:"CourtProfileController",templateUrl:"pages/courts/court-profile.html"}).when("/courts",{controller:"CourtController",templateUrl:"pages/courts/courts.html"}).when("/courts/create",{controller:"CourtCreateController",templateUrl:"pages/courts/court-create.html"}).when("/court/edit/:id",{controller:"CourtEditController",templateUrl:"pages/courts/court-edit.html"}).when("/championship/:id",{controller:"ChampionshipProfileController",templateUrl:"pages/championships/championship-profile.html"}).when("/championships",{controller:"ChampionshipController",templateUrl:"pages/championships/championships.html"}).when("/championships/create",{controller:"ChampionshipCreateController",templateUrl:"pages/championships/championship-create.html"}).when("/championship/edit/:id",{controller:"ChampionshipEditController",templateUrl:"pages/championships/championship-edit.html"}).when("/matches",{controller:"MatchController",templateUrl:"pages/matches/matches.html"}).when("/match/:id",{controller:"MatchProfileController",templateUrl:"pages/matches/match-profile.html"}).when("/match/:id/playing",{controller:"MatchPlayingController",templateUrl:"pages/matches/match-playing.html"}).when("/matches/create",{controller:"MatchCreateController",templateUrl:"pages/matches/match-create.html"}).when("/administracion/usuarios",{controller:"UsuarioController",templateUrl:"pages/administracion/usuarios/usuarios.jsp"}).otherwise({redirectTo:"/"})}]),app.controller("DashboardController",["$scope","$location",function(e,o){e.ref=function(e){o.url(e)}}]),app.service("GenericService",["$http","$q",function(e,o){var r=CONSTANTS.contextPath+"/services/";this.getAll=function(t){var a=o.defer(),n=a.promise,l=e.get(r+t);return l.success(function(e){a.resolve(e)}),l.error(function(e){a.reject(e)}),n},this.save=function(t,a){var n=o.defer(),l=n.promise,s=e.put(r+t,a);return s.success(function(e){n.resolve(e)}),s.error(function(e){n.reject(e)}),l},this.getById=function(t,a){var n=o.defer(),l=n.promise,s=e.get(r+t+"/"+a);return s.success(function(e){n.resolve(e)}),s.error(function(e){n.reject(e)}),l}}]),app.controller("MainController",["$scope","$http","$location",function(e,o,r){e.ref=function(e){r.url(e)},e.msgI18n=function(e){return Language[e]}}]),app.controller("TeamController",["$scope","$http","$location",function(e,o,r){e.teams=[],e.flagLoading=!1,e.flagErrorLoading=!1,e.loadData=function(){e.flagLoading=!0,NProgress.start();var r=o.get(CONSTANTS.contextPath+"/services/teams");r.success(function(o){e.teams=o,e.flagLoading=!1,NProgress.done()}),r.error(function(o){e.flagLoading=!1,e.flagErrorLoading=!0,NProgress.done()})},e.loadData()}]),app.controller("TeamProfileController",["$scope","$http","$routeParams",function(e,o,r){e.flagLoading=!0,e.loadData=function(){e.flagLoading=!0,NProgress.start();var t=o.get(CONSTANTS.contextPath+"/services/teams/"+r.id);t.success(function(o){e.team=o,e.flagLoading=!1,NProgress.done()}),t.error(function(o){alert(o),e.flagLoading=!1,NProgress.done()})},e.loadData()}]),app.controller("TeamEditController",["$scope","$http","$routeParams",function(e,o,r){var t={name:"Fred",lastName:"Hoiberg",birthdate:"12 de Enero 1989"};e.flagLoading=!1,e.flagErrorLoading=!1,e.loadData=function(){e.flagLoading=!0,NProgress.start();var a=o.get(CONSTANTS.contextPath+"/services/teams/"+r.id);a.success(function(o){e.team=o,e.team.coach=t,e.flagLoading=!1,NProgress.done(),setTimeout(function(){$(".list-group-item.edit").click(function(){$(".list-group-item .actions").each(function(){$(this).hide()}),$(".list-group-item .badge").each(function(){$(this).show()}),$(this).find("div.actions").show(),$(this).find("span.badge").hide()})},1e3)}),a.error(function(o){e.flagLoading=!1,e.flagErrorLoading=!0,NProgress.done()})},e.deletePlayer=function(t){if(r.id)var a=o.delete(CONSTANTS.contextPath+"/services/teams/"+r.id+"/players/"+t.oid);else var a=o.delete(CONSTANTS.contextPath+"/services/players/"+t.oid);a.success(function(e){NProgress.done()}),a.error(function(o){console.log(o),e.errorMsg="Ocurrio un error al ingresar el equipo, intente más tarde",e.diplayError=!0,NProgress.done()});for(i in e.team.players)if(e.team.players[i].oid===t.oid){e.team.players.splice(i,1);break}alert(e.team.players)},e.loadData()}]),app.controller("TeamCreateController",["$scope","$http","$location",function(e,o,r){e.team={},e.save=function(){NProgress.start();var t=o.put(CONSTANTS.contextPath+"/services/teams",e.team);t.success(function(e){console.log(e),NProgress.done(),r.path("/teams")}),t.error(function(o){console.log(o),e.errorMsg="Ocurrio un error al ingresar el equipo, intente más tarde",e.diplayError=!0,NProgress.done()})}}]),app.controller("PlayerController",["$scope","$http","$location",function(e,o,r){e.players=[],e.flagLoading=!1,e.flagErrorLoading=!1,e.loadData=function(){e.flagLoading=!0,NProgress.start();var r=o.get(CONSTANTS.contextPath+"/services/players");r.success(function(o){e.players=o,e.flagLoading=!1,NProgress.done()}),r.error(function(o){e.flagLoading=!1,e.flagErrorLoading=!0,NProgress.done()})},e.loadData()}]),app.controller("PlayerCreateController",["$scope","$http","$location","$routeParams",function(e,o,r,t){e.player={},e.oid=t.id,e.save=function(){if(NProgress.start(),t.id)var a=o.put(CONSTANTS.contextPath+"/services/teams/"+t.id+"/players",e.player);else var a=o.put(CONSTANTS.contextPath+"/services/players/");a.success(function(e){NProgress.done(),t.id?r.path("/team/"+t.id):r.path("/players")}),a.error(function(o){console.log(o),e.errorMsg="Ocurrio un error al ingresar el equipo, intente más tarde",e.diplayError=!0,NProgress.done()})}}]),app.controller("PlayerEditController",["$scope","$http","$routeParams",function(e,o,r){e.flagLoading=!0,e.flagErrorLoading=!1,e.player={},e.loadData=function(){e.flagLoading=!0,NProgress.start();var t=o.get(CONSTANTS.contextPath+"/services/players/"+r.idPlayer);t.success(function(o){e.player=o,e.flagLoading=!1,NProgress.done()}),t.error(function(o){e.flagErrorLoading=!0,e.flagLoading=!1,NProgress.done()})},e.loadData()}]),app.controller("PlayerProfileController",["$scope","$http","$routeParams",function(e,o,r){e.flagLoading=!0,e.flagErrorLoading=!1,e.player={},e.loadData=function(){e.flagLoading=!0,NProgress.start();var t=o.get(CONSTANTS.contextPath+"/services/players/"+r.id);t.success(function(o){e.player=o,e.flagLoading=!1,NProgress.done()}),t.error(function(o){e.flagErrorLoading=!0,e.flagLoading=!1,NProgress.done()})},e.loadData()}]),app.controller("CourtController",["$scope","$http","$location","GenericService",function(e,o,r,t){e.players=[],e.flagLoading=!1,e.flagErrorLoading=!1,e.loadData=function(){e.flagLoading=!0,NProgress.start(),t.getAll("courts").then(function(o){e.courts=o,e.flagLoading=!1,NProgress.done()}).catch(function(o){e.flagLoading=!1,e.flagErrorLoading=!0,NProgress.done()})},e.loadData()}]),app.controller("CourtCreateController",["$scope","$http","$location","$routeParams",function(e,o,r,t){e.player={},e.oid=t.id,e.save=function(){NProgress.start();var t=o.put(CONSTANTS.contextPath+"/services/courts/",e.court);t.success(function(e){NProgress.done(),r.path("/courts/")}),t.error(function(o){console.log(o),e.errorMsg="Ocurrio un error al ingresar, intente más tarde",e.diplayError=!0,NProgress.done()})}}]),app.controller("CourtProfileController",["$scope","$http","$routeParams",function(e,o,r){function t(){var o={lat:e.court.location.latitude,lng:e.court.location.longitude},r=new google.maps.Map(document.getElementById("map"),{center:o,scrollwheel:!1,zoom:16});new google.maps.Marker({position:o,map:r,title:e.court.name})}e.flagLoading=!0,e.flagErrorLoading=!1,e.court={},e.loadData=function(){e.flagLoading=!0,NProgress.start();var a=o.get(CONSTANTS.contextPath+"/services/courts/"+r.id);a.success(function(o){e.court=o,e.flagLoading=!1,t(),NProgress.done()}),a.error(function(o){e.flagErrorLoading=!0,e.flagLoading=!1,NProgress.done()})},e.loadData()}]),app.controller("CourtEditController",["$scope","$http","$routeParams",function(e,o,r){e.flagLoading=!1,e.flagErrorLoading=!1,e.loadData=function(){e.flagLoading=!0,NProgress.start();var t=o.get(CONSTANTS.contextPath+"/services/courts/"+r.id);t.success(function(o){e.court=o,e.flagLoading=!1,NProgress.done()}),t.error(function(o){e.flagLoading=!1,e.flagErrorLoading=!0,NProgress.done()})},e.loadData()}]),app.controller("MatchController",["$scope","$http","$location",function(e,o,r){e.matches=[],e.flagLoading=!1,e.flagErrorLoading=!1,e.loadData=function(){e.flagLoading=!0,NProgress.start();var r=o.get(CONSTANTS.contextPath+"/services/matches");r.success(function(o){e.matches=o,e.flagLoading=!1,NProgress.done()}),r.error(function(o){e.flagLoading=!1,e.flagErrorLoading=!0,NProgress.done()})},e.loadData()}]),app.controller("MatchPlayingController",["$scope","$http","$routeParams","$interval",function(e,o,r,t){e.flagLoading=!0,e.time=600,e.timetext="00:00:00",e.score={visitor:0,local:0},e.scoreText={visitor:{d1:0,d2:0,d3:0},local:{d1:0,d2:0,d3:0}},e.point={team:"",score:0},e.loadData=function(){e.flagLoading=!0,NProgress.start();var t=o.get(CONSTANTS.contextPath+"/services/matches/"+r.id);t.success(function(o){e.match=o,e.match.date=new Date(e.match.date),e.flagLoading=!1,NProgress.done()}),t.error(function(o){e.flagLoading=!1,NProgress.done()})},e.loadData(),e.addPoint=function(){e.score.visitor="visitor"===e.point.team?e.score.visitor+e.point.score:e.score.visitor,e.score.local="local"===e.point.team?e.score.local+e.point.score:e.score.local,e.calculateDigit(e.score.local,e.scoreText.local),e.calculateDigit(e.score.visitor,e.scoreText.visitor),e.point.team="",e.point.score=0,$("#modal-add-point").modal("hide")},e.calculateDigit=function(e,o){for(var r=[],t=0;t<3;){var a=e%10;e=Math.floor(e/10),r.push(a),t++}return o.d3=r[0],o.d2=r[1],o.d1=r[2],r};var a;e.startCount=function(){angular.isDefined(a)||(a=t(function(){if(e.time>0){e.time=e.time-1;var o=Math.floor(e.time/3600),r=Math.floor(e.time/60),t=e.time%60;e.timetext=(o<10?"0"+o:o)+":"+(r<10?"0"+r:r)+":"+(t<10?"0"+t:t)}else e.stopCount()},1e3))},e.stopCount=function(){angular.isDefined(a)&&(t.cancel(a),a=void 0)}}]),app.controller("MatchProfileController",["$scope","$http","$routeParams",function(e,o,r){e.flagLoading=!0,e.loadData=function(){e.flagLoading=!0,NProgress.start();var t=o.get(CONSTANTS.contextPath+"/services/matches/"+r.id);t.success(function(o){e.match=o,e.match.date=new Date(e.match.date),e.flagLoading=!1,NProgress.done()}),t.error(function(o){e.flagLoading=!1,NProgress.done()})},e.loadData()}]),app.controller("MatchCreateController",["$scope","$http","$location","GenericService",function(e,o,r,t){e.match={},e.teams=[],e.flagLoading=!1,e.flagErrorLoading=!1,e.dateOptions={formatYear:"yy",maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1},e.loadData=function(){e.flagLoading=!0,NProgress.start(),t.getAll("courts").then(function(o){e.courts=o}).then(t.getAll("teams").then(function(o){e.teams=o,e.flagLoading=!1,NProgress.done()}))},e.save=function(){NProgress.start();var t=o.put(CONSTANTS.contextPath+"/services/matches",e.match);t.success(function(e){console.log(e),NProgress.done(),r.path("/match/"+e.oid)}),t.error(function(o){console.log(o),e.errorMsg="Ocurrio un error al ingresar el equipo, intente más tarde",e.diplayError=!0,NProgress.done()})},e.loadData()}]),app.controller("ChampionshipController",["$scope","$http","$location","GenericService",function(e,o,r,t){e.title="Campeonatos",e.nameObject="championship",e.nameObjects="championships",e.objects=[],e.flagLoading=!1,e.flagErrorLoading=!1,e.loadData=function(){e.flagLoading=!0,NProgress.start(),t.getAll(e.nameObjects).then(function(o){e.objects=o,e.flagLoading=!1,NProgress.done()}).catch(function(o){e.flagLoading=!1,e.flagErrorLoading=!0,NProgress.done()})},e.loadData()}]),app.controller("ChampionshipEditController",["$scope","$http","$routeParams","GenericService",function(e,o,r,t){e.title="Campeonatos",e.nameObject="championship",e.nameObjects="championships",e.flagLoading=!1,e.flagErrorLoading=!1,e.loadData=function(){e.flagLoading=!0,NProgress.start(),t.getById(e.nameObjects,r.id).then(function(o){e.object=o,e.flagLoading=!1,NProgress.done()}).catch(function(o){e.flagLoading=!1,e.flagErrorLoading=!0,NProgress.done()})},e.loadData()}]),app.controller("ChampionshipProfileController",["$scope","$http","$routeParams","GenericService",function(e,o,r,t){e.nameObject="championship",e.nameObjects="championships",e.flagLoading=!0,e.flagErrorLoading=!1,e.object={},e.loadData=function(){e.flagLoading=!0,NProgress.start(),t.getById(e.nameObjects,r.id).then(function(o){e.object=o,e.flagLoading=!1,NProgress.done()}).catch(function(o){e.flagLoading=!1,e.flagErrorLoading=!0,NProgress.done()})},e.loadData()}]),app.controller("ChampionshipCreateController",["$scope","$http","$location","GenericService",function(e,o,r,t){e.title="Campeonato",e.nameObject="championship",e.nameObjects="championships",e.save=function(){NProgress.start(),t.save(e.nameObjects,e.object).then(function(o){NProgress.done(),r.path("/"+e.nameObjects+"/")}).catch(function(o){e.errorMsg="Ocurrio un error al ingresar, intente más tarde",e.diplayError=!0,NProgress.done()})}}]);
//# sourceMappingURL=Application.min.js.map